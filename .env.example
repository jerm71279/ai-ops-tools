# =============================================================================
# OberaConnect Unified Stack - Environment Configuration
# =============================================================================
# SECURITY: Copy to .env and fill in values. NEVER commit .env to git!
# Generate secrets with: openssl rand -hex 32
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL (Layer 2 - Persistence)
# -----------------------------------------------------------------------------
POSTGRES_USER=obera
POSTGRES_PASSWORD=GENERATE_WITH_OPENSSL_RAND_HEX_32
POSTGRES_DB=oberaconnect

# -----------------------------------------------------------------------------
# Qdrant Vector Database (Layer 2 - Persistence)
# -----------------------------------------------------------------------------
# API Key - generate with: openssl rand -hex 32
QDRANT_API_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_32
QDRANT_READ_ONLY_API_KEY=
QDRANT_COLLECTION=oberaconnect-docs

# -----------------------------------------------------------------------------
# Anthropic Claude API (Layer 3 - Services)
# -----------------------------------------------------------------------------
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXX

# -----------------------------------------------------------------------------
# Azure / Microsoft 365 (Layer 3 - Services)
# -----------------------------------------------------------------------------
# Create App Registration: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# Required permissions: Sites.Read.All, Files.Read.All
AZURE_TENANT_ID=
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=

# SharePoint Configuration (for document ingestion)
SHAREPOINT_SITE_ID=
SHAREPOINT_DRIVE_ID=
SHAREPOINT_FOLDER_PATH=/Shared Documents/Knowledge Base

# Azure Static Web Apps (optional)
AZURE_SWA_TOKEN=
SWA_DEPLOYMENT_TOKEN=

# -----------------------------------------------------------------------------
# Slab Knowledge Base (Layer 3 - Services, optional)
# -----------------------------------------------------------------------------
# Get token from: Slab workspace > Settings > Developer Tools > API & Webhooks
SLAB_API_TOKEN=

# -----------------------------------------------------------------------------
# n8n Workflow Automation (Layer 5 - UI)
# -----------------------------------------------------------------------------
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=CHANGE_TO_STRONG_PASSWORD_MIN_16_CHARS
N8N_ENCRYPTION_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_16
WEBHOOK_URL=https://your-domain.com
N8N_HOST=your-domain.com
TIMEZONE=America/Chicago

# -----------------------------------------------------------------------------
# Open WebUI Chat Interface (Layer 5 - UI, profile: chat)
# -----------------------------------------------------------------------------
# Secret key for session encryption - generate with: openssl rand -hex 32
WEBUI_SECRET_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_32

# OpenAI API (optional - for GPT models alongside local Ollama)
OPENAI_API_KEY=sk-proj-XXXXXXXXXXXXXXXX

# Google Gemini API (for large docs, multimodal)
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=AIzaSy...

# xAI Grok API (optional - for real-time info)
# Get from: https://console.x.ai/
XAI_API_KEY=xai-...

# -----------------------------------------------------------------------------
# Ollama Local LLMs (Layer 1 - Models, profile: local-llm)
# -----------------------------------------------------------------------------
# Models to pull after container start (space-separated)
# Run: docker exec ollama ollama pull <model>
OLLAMA_MODELS=llama3.2 qwen2.5:7b

# -----------------------------------------------------------------------------
# API Security (Layer 4 - Gateway)
# -----------------------------------------------------------------------------
# API key for webhook/service authentication - generate with: openssl rand -hex 24
SECONDBRAIN_API_KEY=GENERATE_WITH_OPENSSL_RAND_HEX_24

# -----------------------------------------------------------------------------
# SSL Configuration (profile: ssl)
# -----------------------------------------------------------------------------
# Domain for SSL certificate
SSL_DOMAIN=your-domain.com
SSL_EMAIL=admin@your-domain.com

# -----------------------------------------------------------------------------
# Optional Integrations
# -----------------------------------------------------------------------------
# Teams webhook for notifications
TEAMS_WEBHOOK_URL=

# Google Drive for Obsidian sync
GOOGLE_DRIVE_FOLDER_ID=

# -----------------------------------------------------------------------------
# Performance Tuning
# -----------------------------------------------------------------------------
MAX_FILE_SIZE_MB=50
CHUNK_SIZE=500
CHUNK_OVERLAP=50
ANTHROPIC_RATE_LIMIT_RPM=50
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Quick Start Commands
# -----------------------------------------------------------------------------
# 1. Copy this file:           cp .env.example .env
# 2. Generate secrets:         openssl rand -hex 32
# 3. Fill in API keys and update placeholders
# 4. Start core services:      docker compose up -d
# 5. Add local LLM:            docker compose --profile local-llm up -d
# 6. Add chat UI:              docker compose --profile chat up -d
# 7. Pull Ollama models:       docker exec ollama ollama pull llama3.2
